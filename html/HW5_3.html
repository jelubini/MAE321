
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>HW5_3</title><meta name="generator" content="MATLAB 8.0"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2015-02-18"><meta name="DC.source" content="HW5_3.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, tt, code { font-size:12px; }
pre { margin:0px 0px 20px; }
pre.error { color:red; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h2>Contents</h2><div><ul><li><a href="#2">Problem 3:</a></li><li><a href="#3">Known</a></li><li><a href="#4">Conversions</a></li><li><a href="#5">Calculations</a></li><li><a href="#6">Plots</a></li><li><a href="#7">Results</a></li></ul></div><pre class="codeinput"><span class="comment">% Joel Lubinitsky - 02/18/15</span>
<span class="comment">% MAE 321 - HW 5.3</span>

clear <span class="string">all</span>
close <span class="string">all</span>
clc
</pre><h2>Problem 3:<a name="2"></a></h2><p>Use numerical integration to solve the system of Example 1.7.3 with a different set of physical parameters: <img src="HW5_3_eq76817.png" alt="$$ m = 1455 \ kg, \ k = 2.5 * 10^5 \ N/m, \ c = 3.75 * 10^3 \ kg/s $$"> subject to the initial conditions <img src="HW5_3_eq87180.png" alt="$$ x_0 = 0 $$"> and <img src="HW5_3_eq63875.png" alt="$$ v_0 = 0.01 \ mm/s $$">. Compare your result using numerical integration to just plotting the analytical solution by plotting both on the same graph. Use different symbols to distinguish the two curves. You may use any of the numerical integration methods discussed in class or the learning objectives, but be clear about which you choose and why. Redesign the damper such that the oscillation dies out after <img src="HW5_3_eq75064.png" alt="$$ 2 \ s $$">. This should be accomplished by creating a Matlab program that varies <img src="HW5_3_eq83011.png" alt="$$ c $$"> withing a reasonable range until the desired response is acquired. Present both the final response solution expression and a plot of the response.</p><p>Find: System Response, <img src="HW5_3_eq04575.png" alt="$$ x $$"> (Numerical/Analytical); Design such that oscillation dies out after <img src="HW5_3_eq75064.png" alt="$$ 2 \ s $$"></p><h2>Known<a name="3"></a></h2><p><img src="HW5_3_eq53772.png" alt="$$ m, \ k, \ c, \ x_0, \ v_0 $$"></p><pre class="codeinput">mass               = 1455;          <span class="comment">% kg</span>
stiffness          = 2.5 * 10 ^ 5;  <span class="comment">% N/m</span>
coefficientDamping = 3.75 * 10 ^ 3; <span class="comment">% kg/s</span>
xInitial           = 0;             <span class="comment">% m</span>
vInitial           = 0.01;          <span class="comment">% mm/s</span>
</pre><h2>Conversions<a name="4"></a></h2><pre class="codeinput">vInitial = vInitial / 1000; <span class="comment">% m/s</span>
</pre><h2>Calculations<a name="5"></a></h2><p><img src="HW5_3_eq22337.png" alt="$$ \zeta = \frac{c}{c_{cr}} = \frac{c}{\sqrt{4km}} $$"></p><p><img src="HW5_3_eq87205.png" alt="$$ \zeta < 1 $$">, so system is underdamped.</p><pre class="codeinput"><span class="comment">% Analytical Solution</span>
coefficientDampingCritical = sqrt(4 * stiffness * mass);
ratioDamping               = coefficientDamping / coefficientDampingCritical
frequencyNatural           = sqrt(stiffness / mass);
frequencyNaturalDamped     = frequencyNatural * sqrt(1 - ratioDamping ^ 2);
stepTime                   = 0.01;
time                       = [0 : stepTime : 5];
xAnalytical                = xUnderdamped(xInitial, vInitial,<span class="keyword">...</span>
                             ratioDamping, frequencyNatural,<span class="keyword">...</span>
                             frequencyNaturalDamped, time);

<span class="comment">% Numerical Solution: Runge-Kutta 4</span>
    <span class="comment">% Initialize Loop</span>
T        = 5;
dt       = 0.001;
N        = T / dt;
vx       = zeros(N, 2);
vx(1, :) = [vInitial, xInitial];

    <span class="comment">% Run Loop</span>
<span class="keyword">for</span> n = [1 : N - 1]
    vx(n + 1, :) = RK4SpringMassDamper(vx(n, 1), vx(n, 2), mass,<span class="keyword">...</span>
                   coefficientDamping, stiffness, dt);
<span class="keyword">end</span>

<span class="comment">% Redesign Damper</span>
coefficientDampingValues = [4 * 10 ^ 3 : 5 * 10 ^ 2 : 10 * 10 ^ 3];
xResponses               = zeros(length(time),<span class="keyword">...</span>
                           length(coefficientDampingValues));
xResidualAllowed         = 1 * 10 ^ -8;

<span class="keyword">for</span> n = [1 : length(coefficientDampingValues)]

    xResponses(:, n) = xUnderdamped(xInitial, vInitial,<span class="keyword">...</span>
                      (coefficientDampingValues(n) /<span class="keyword">...</span>
                       coefficientDampingCritical), frequencyNatural,<span class="keyword">...</span>
                       frequencyNaturalDamped, time);

    <span class="keyword">if</span> max(abs(xResponses(2 / stepTime : end, n))) &lt; xResidualAllowed
        coefficientDampingSolution = coefficientDampingValues(n)
        indexSolution              = n;
        <span class="keyword">break</span>
    <span class="keyword">end</span>

<span class="keyword">end</span>
</pre><pre class="codeoutput">
ratioDamping =

    0.0983


coefficientDampingSolution =

        6500

</pre><h2>Plots<a name="6"></a></h2><p>Analytical/Numerical Solutions of Response</p><pre class="codeinput">figure(1)
hold <span class="string">on</span>
title(<span class="string">'Underdamped Response of Spring-Mass-Damper System'</span>)
xlabel(<span class="string">'Time, t [s]'</span>)
ylabel(<span class="string">'Displacement, x(t) [m]'</span>)
plot(time, xAnalytical, <span class="string">'color'</span>, [1 0 0])
plot(linspace(0, T, N), vx(:, 2), <span class="string">'color'</span>, [0 0 1])
legend(<span class="string">'Analytical Solution'</span>, <span class="string">'Numerical Solution (RK4)'</span>, <span class="string">'location'</span>, <span class="string">'northeast'</span>)

<span class="comment">%Redesigned System</span>
figure(2)
hold <span class="string">on</span>
title(<span class="string">'Redesigned System (c = 6500 kg/s)'</span>)
xlabel(<span class="string">'Time, t [s]'</span>)
ylabel(<span class="string">'Displacement, x(t) [m]'</span>)
plot(time, xResponses(:, n), <span class="string">'color'</span>, [0 0 1])
plot(time, xResidualAllowed, <span class="string">'color'</span>, [1 0 0])
legend(<span class="string">'Damped Response'</span>, <span class="string">'Allowable Oscillation after t = 2s'</span>,<span class="string">'location'</span>, <span class="string">'northeast'</span>)
</pre><img vspace="5" hspace="5" src="HW5_3_01.png" alt=""> <img vspace="5" hspace="5" src="HW5_3_02.png" alt=""> <h2>Results<a name="7"></a></h2><p>At a sufficiently small time step <img src="HW5_3_eq22117.png" alt="$$ dt = 0.001 $$">, the numerical and analytical responses are nearly indistinguishable. The damping coefficient required so that the response dies out after <img src="HW5_3_eq75064.png" alt="$$ 2 \ s $$"> is <img src="HW5_3_eq07073.png" alt="$$ c = 6500 \ kg/s $$">.</p><p class="footer"><br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2012b</a><br></p></div><!--
##### SOURCE BEGIN #####
% Joel Lubinitsky - 02/18/15
% MAE 321 - HW 5.3

clear all
close all
clc

%% Problem 3:
% Use numerical integration to solve the system of Example 1.7.3 with a
% different set of physical parameters: $$ m = 1455 \ kg, \ k = 2.5 * 10^5 \
% N/m, \ c = 3.75 * 10^3 \ kg/s $$ subject to the initial conditions $$ x_0
% = 0 $$ and $$ v_0 = 0.01 \ mm/s $$. Compare your result using numerical
% integration to just plotting the analytical solution by plotting both on
% the same graph. Use different symbols to distinguish the two curves. You
% may use any of the numerical integration methods discussed in class or
% the learning objectives, but be clear about which you choose and why.
% Redesign the damper such that the oscillation dies out after $$ 2 \ s $$.
% This should be accomplished by creating a Matlab program that varies $$ c
% $$ withing a reasonable range until the desired response is acquired.
% Present both the final response solution expression and a plot of the
% response.
%
% Find: System Response, $$ x $$ (Numerical/Analytical); Design such that
% oscillation dies out after $$ 2 \ s $$

%% Known
% $$ m, \ k, \ c, \ x_0, \ v_0 $$
mass               = 1455;          % kg
stiffness          = 2.5 * 10 ^ 5;  % N/m
coefficientDamping = 3.75 * 10 ^ 3; % kg/s
xInitial           = 0;             % m
vInitial           = 0.01;          % mm/s

%% Conversions
vInitial = vInitial / 1000; % m/s

%% Calculations
% $$ \zeta = \frac{c}{c_{cr}} = \frac{c}{\sqrt{4km}} $$
%
% $$ \zeta < 1 $$, so system is underdamped.

% Analytical Solution
coefficientDampingCritical = sqrt(4 * stiffness * mass);
ratioDamping               = coefficientDamping / coefficientDampingCritical
frequencyNatural           = sqrt(stiffness / mass);
frequencyNaturalDamped     = frequencyNatural * sqrt(1 - ratioDamping ^ 2);
stepTime                   = 0.01;
time                       = [0 : stepTime : 5];
xAnalytical                = xUnderdamped(xInitial, vInitial,...
                             ratioDamping, frequencyNatural,...
                             frequencyNaturalDamped, time);

% Numerical Solution: Runge-Kutta 4
    % Initialize Loop
T        = 5;
dt       = 0.001;
N        = T / dt;
vx       = zeros(N, 2);
vx(1, :) = [vInitial, xInitial];

    % Run Loop
for n = [1 : N - 1]
    vx(n + 1, :) = RK4SpringMassDamper(vx(n, 1), vx(n, 2), mass,...
                   coefficientDamping, stiffness, dt);
end

% Redesign Damper
coefficientDampingValues = [4 * 10 ^ 3 : 5 * 10 ^ 2 : 10 * 10 ^ 3];
xResponses               = zeros(length(time),...
                           length(coefficientDampingValues));
xResidualAllowed         = 1 * 10 ^ -8;

for n = [1 : length(coefficientDampingValues)]
    
    xResponses(:, n) = xUnderdamped(xInitial, vInitial,...
                      (coefficientDampingValues(n) /...
                       coefficientDampingCritical), frequencyNatural,...
                       frequencyNaturalDamped, time);
                   
    if max(abs(xResponses(2 / stepTime : end, n))) < xResidualAllowed
        coefficientDampingSolution = coefficientDampingValues(n)
        indexSolution              = n;
        break
    end
    
end

%% Plots
% Analytical/Numerical Solutions of Response
figure(1)
hold on
title('Underdamped Response of Spring-Mass-Damper System')
xlabel('Time, t [s]')
ylabel('Displacement, x(t) [m]')
plot(time, xAnalytical, 'color', [1 0 0])
plot(linspace(0, T, N), vx(:, 2), 'color', [0 0 1])
legend('Analytical Solution', 'Numerical Solution (RK4)', 'location', 'northeast')

%Redesigned System
figure(2)
hold on
title('Redesigned System (c = 6500 kg/s)')
xlabel('Time, t [s]')
ylabel('Displacement, x(t) [m]')
plot(time, xResponses(:, n), 'color', [0 0 1])
plot(time, xResidualAllowed, 'color', [1 0 0])
legend('Damped Response', 'Allowable Oscillation after t = 2s','location', 'northeast')

%% Results
% At a sufficiently small time step $$ dt = 0.001 $$, the numerical and
% analytical responses are nearly indistinguishable. The damping
% coefficient required so that the response dies out after $$ 2 \ s $$ is
% $$ c = 6500 \ kg/s $$.
##### SOURCE END #####
--></body></html>